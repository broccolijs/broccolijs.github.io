<html>

<head>
    <title>Getting Started | broccoli.build</title>
    <meta name="description" content="Broccoli.js - The asset pipeline for ambitious web applications">
    <link media="all" rel="stylesheet" href="/assets/site.css" />

    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="/assets/favicon/site.webmanifest">
    <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#628336">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#ffffff">

    <meta property="og:title" content="Getting Started | broccoli.build" />
    <meta property="og:description" content="Broccoli.js - The asset pipeline for ambitious web applications" />
    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content="2018-12-10T21:12:52+00:00" />
    <meta property="og:url" content="https://broccoli.build/getting-started.html" />
    <meta property="og:image" content="https://broccoli.build/assets/logo/logo-large.png" />
</head>


<body>
    <nav>
    <ul>
        <li class="logo">
            <a href="/">
                <img src="/assets/logo/logo-white-tiny.png"
                     srcset="/assets/logo/logo-white-tiny.png 1x, /assets/logo/logo-white-tiny@2x.png 2x"
                     width="25px"
                />
            </a>
        </li>
            <li><a href="/" title="Home">Home</a></li>
            <li><a href="/getting-started.html" title="Getting Started">Getting Started</a></li>
    </ul>
</nav>


    <section class="content">
        <h1 class="heading">Getting Started</h1>
        <div><h2>Prerequisites</h2>
<p>First things first, it is assumed that you know how to use a terminal on your machine, if you‚Äôre unfamiliar with the
terminal, best get familiar with that first.</p>
<p>You‚Äôre also going to want to use Node 8 as this is the current LTS (long term support) version.
We recommend using <a href="https://github.com/creationix/nvm">NVM</a>.
Test to make sure you have node and npm installed by running the following commands and checking that your output is similar:</p>
<pre><code class="hljs language-shell"><span class="hljs-meta">$</span><span class="bash"> node --version</span>
v8.0.x
</code></pre>
<p>You‚Äôre free to use either <a href="https://yarnpkg.com">yarn</a> or <a href="https://npmjs.com">npm</a> package managers, whichever you prefer,
these docs will use <code>yarn</code> (note: to use <code>npm</code>, replace <code>yarn install --dev</code> with <code>npm install --save-dev</code>).</p>
<h2>Installation</h2>
<p>First things first, you‚Äôll need a project directory, if you don‚Äôt have one, create one now:</p>
<pre><code class="hljs language-shell"><span class="hljs-meta">$</span><span class="bash"> mkdir broccoli-tutorial</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> broccoli-tutorial</span>
</code></pre>
<p>Inside your project directory root, install Broccoli:</p>
<pre><code class="hljs language-shell"><span class="hljs-meta">$</span><span class="bash"> yarn add --dev broccoli broccoli-cli</span>
</code></pre>
<p>This will install the Broccoli library, and the CLI tool for Broccoli. The CLI tool can optionally be installed globally
if required, however installing within the project allows for <code>yarn</code> script commands to natively work.</p>
<p>Next create a <code>Brocfile.js</code> file and an <code>src</code> folder for your source code.</p>
<pre><code class="hljs language-shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">"module.exports = 'src'"</span> &gt; Brocfile.js &amp;&amp; mkdir src</span>
</code></pre>
<p>A <code>Brocfile.js</code> in the project root tells Broccoli how to build your project‚Äôs assets. It can be as simple or as
complicated as your project needs. For this example, we‚Äôre going to keep it relatively simple and just build Sass into
CSS and Coffeescript into Javascript. We‚Äôre also going to assume your project structure looks like:</p>
<p>In your <code>package.json</code> add the following to the <code>scripts</code> node (add this if it‚Äôs not present):</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"scripts"</span>: {
    <span class="hljs-attr">"build"</span>: <span class="hljs-string">"broccoli build --overwrite"</span>,
    <span class="hljs-attr">"serve"</span>: <span class="hljs-string">"broccoli serve"</span>
  }
}
</code></pre>
<p>You can now run <code>yarn build</code> and <code>yarn serve</code> for convenience.</p>
<h2>The build file</h2>
<p>Broccoli uses a file called <code>Brocfile.js</code> that must live in the root of your project, this is what will contain your
build pipeline.</p>
<p>Open the <code>Brocfile.js</code> and it should contain the contents:</p>
<pre><code class="hljs language-js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-string">"src"</span>;
</code></pre>
<p>Next, add an <code>index.html</code> file with the contents <code>Eat your greens!</code>.</p>
<pre><code class="hljs language-sh"><span class="hljs-built_in">echo</span> <span class="hljs-string">'Hello World!'</span> &gt; src/index.html
</code></pre>
<p>That‚Äôs it, you‚Äôre done.</p>
<p>The initial setup of this tutorial merely copies files from the input <code>src</code> directory by exporting the string <code>src</code>.</p>
<p>The <code>Brocfile.js</code> contains the Broccoli configuration for the build. The <code>module.exports</code> line must export a Broccoli
node. ‚ÄúBut it‚Äôs a string‚Äù you say, yes, Broccoli will automatically convert a string into a <code>source node</code>, and on build,
validate that the directory exists. In this case, the Brocfile merely exports a single node, containing the contents of
the <code>src</code> directory, this will then be copied to the destination directory (<code>dist</code> in our case).</p>
<p>To run a build, run <code>yarn build</code> (if you added the script) or <code>broccoli build --overwrite</code> (note: without <code>--overwrite</code>
the contents of the output directory <code>dist</code> will NOT be overwritten and produce an error).</p>
<p>You should see something like:</p>
<pre><code class="hljs language-sh">$ yarn build
$ broccoli build --overwrite



Slowest Nodes (totalTime =&gt; 5% )              | Total (avg)
----------------------------------------------+---------------------
src (1)                                       | 0ms

Built - 0 ms @ Tue Dec 04 2018 17:18:34 GMT-0500 (Eastern Standard Time)
‚ú®  Done <span class="hljs-keyword">in</span> 0.88s.
</code></pre>
<p>This yarn command will remove any previous builds, and run a new build, outputting to the <code>dist</code> directory.</p>
<p>The contents of <code>src</code> should now be in the <code>dist</code> directory. Try:</p>
<pre><code class="hljs language-sh">$ cat dist/index.html
Hello World!
</code></pre>
<p>Now try running <code>yarn serve</code> or <code>broccoli serve</code> and you should see:</p>
<pre><code class="hljs language-sh">$ broccoli serve
Serving on http://localhost:4200




Slowest Nodes (totalTime =&gt; 5% )              | Total (avg)
----------------------------------------------+---------------------
src (1)                                       | 1ms

Built - 0 ms @ Tue Dec 04 2018 17:19:49 GMT-0500 (Eastern Standard Time)
</code></pre>
<p>You will see the URL <code>http://localhost:4200</code>, if you open this in the browser you should see <code>Hello World!</code> in your
Browser.</p>
<p>Congratulations üëè, you‚Äôve just written your first Broccoli pipeline!</p>
<p>For a demo, checkout this sanbox from <a href="https://codesandbox.io">codesandbox.io</a></p>
<div class="mobile-show">
<a href="https://codesandbox.io/s/github/broccolijs/broccoli-tutorial/tree/master/">
  <img alt="Edit broccoli-tutorial" src="https://codesandbox.io/static/img/play-codesandbox.svg">
</a>
</div>
<div class="mobile-hide">
  <iframe src="https://codesandbox.io/embed/github/broccolijs/broccoli-tutorial/tree/master/" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>
</div>
</div>
    </section>

    <footer>
    Found an error/typo on this page? <a href="https://github.com/broccolijs/broccolijs.github.io/edit/code/src/docs/getting-started.md">Why not propose a fix</a>
</footer>
</body>

</html>
